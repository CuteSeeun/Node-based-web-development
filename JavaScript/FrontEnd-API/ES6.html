<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>ES6</h1>
    <script>
        //[1] 변수, 상수 : var => let, const
        //var변수 : 함수 scope
        var num1 =10; //전역변수
        document.write('num1: ', num1, '<br>');
        var num1=20; //재선언, 재할당 가능
        document.write('num1: ', num1, '<br>');
        num1=30;
        document.write('num1: ', num1, '<br>');

        function foo(){
            var a=10;
            document.write('a: ', a, '<br>')
        }
        foo();

        let num2 =100; //let, const : block scope
        // let num2 //재선언 불가능
        document.write(num2, '<br>');
        num2=200; //재할당 가능
        document.write(num2, '<br>');

        //블록 스코프
        if(true){
            var x =9;
            let y =10;
        }
        document.write('x: ', x, '<br>');
        // document.write('y: ', y, '<br>');

        const PI = 3.14; //상수 선언 시 const 재할당 불가능
        document.write('PI: ', PI, '<br>');
        // PI=4.14;

        const obj = {num:3};
        document.write('obj.num: ', obj.num, '<br>');
        // obj = {name:'홍길동'}
        //재할당은 불가능하지만 객체의 속성은 바꿀 수 있다
        //즉 배열이나 객체가 재할당이 안되는거지 안의 내용은 바꿀 수 있다
        obj.num=500;
        document.write('obj.num: ', obj.num, '<br>');

        //템플릿 리터럴
        //백틱으로 변수값 출력하고자 달러 기호를 쓴다
        document.write(`obj.num = ${obj.num}<br>`)


        //화살표
        function fool(x, y){
            return x+y;
        }
        const foo2 = function(x, y){
            return x-y;
        }
        const foo3= (x,y)=>{return x*y;}
        const foo4 = (x,y)=> x*y;
        document.write(fool(2,3), '<br>');
        document.write(foo2(2,3), '<br>');
        document.write(foo3(2,3), '<br>');
        document.write(foo4(2,3), '<br>');

        //구조분해 할당 : 배열이나 객체의 속성을 분해해서
        //변수에 할당하는 문법
        const person={
            name : '홍길동',
            age : 22,
            addr: '서울'
        }
        document.write(`name: ${person.name}, age:${person.age}`);
        const {name, age, addr} = person; //객체가 가지고 있는 속성을 name, age, addr로 받겠다
        document.write(`<dr> ${name}, ${age}, ${addr}`);


        //배열 구조분해 할당
        const arr=[1,2,3];
        const [a,b,c] = arr;
        document.write('<br>', a,b,c, '<br>');

        //일부 요소만 할당
        const [n,m] = arr;
        document.write(`n: ${n}, m: ${m} <br>`);


        //spread 연산자 : ... (전개 연산자 또는 나머지 연산자)
        const [first, ... rest] = arr; //여기서 rest는 나머지 값들을 받는 변수이다
        document.write(`first: ${first}, rest: ${rest} <br>`);

        let user = {name:'Alice', age:25, city:'Seoul'}
        const {name:nm, age:ag, city} = user; //속성명 변경
        document.write(`nm: ${nm}, ag:${ag}, city:${city}`);



        //배열 매개변수 구조분해
        function plus([q,r]){
            return q+r;
        }
        let numbers = [10,99];
        const result = plus(numbers);
        document.write('<br>', 'result: ', result, '<br>');

        //spread 연산자 : 배열, 객체를 펼치는데 사용
        let arr1 = [1,2,3,4,5];
        let arr2 =[...arr1, 6,7,8];
        document.write(arr2, '<br>');
        let newArr = [0,...arr1, 10];
        document.write(newArr, '<br>');
        


        //객체도 스프레드 연산자 이용해서 
        const user1 = {name: '철수', height: 177}
        const user2 = {...user1} //객체 복사
        document.write(JSON.stringify(user2), '<br>');

        const ob1 = {a:1, b:2};
        const ob2 = {c:3, d:4};
        //객체 병합
        const merged = {...ob1, ...ob2}
        document.write(JSON.stringify(merged), '<br>');
        //동일한 속성 덮어쓰기
        const ob3 = {...merged, c:5.12, d:7.89}
        document.write(JSON.stringify(ob3), '<br>');

        //string
        let str1 = 'hello world';
        let str2 = [...str1]
        document.write(str2, ' ', typeof str2)
        document.write('<br>', str2, ' ', str2.length)
        let str3 = str2.join('#')
        document.write('<br>', str3)
        let str4 = str2.join('')
        document.write('<br>', str4)

    </script>
</body>
</html>